<!DOCTYPE html>
<html lang="pt">
<head>
	<title>Milonga DJ</title>

<script type="text/javascript">

	// Lista de cores de fundo
	var kor=[];
		kor.push('#dedede')		
		kor.push('#dedede')
		kor.push('#dedede')		
		kor.push('#dedede')
		kor.push('#dedede')		
		kor.push('#dedede')


	var c=[[]];  // lista de (meta)tandas
	var i=0;
		
 
	c[i]=[];
	c[i].push({pasta:".",nome:"Abertura", tipo:"Abertura"});	
		c[i].push({file:"Carlos Gardel/Carlos Gardel - 1930 - almagro",nome:"Carlos Gardel - Almagro"})
		c[i].push({file:"Carlos Gardel/Carlos Gardel - 1935 - El día que me quieras",nome:"Carlos Gardel - 1935 - El día que me quieras"})
		c[i].push({file:"Fado/Carlos do Carmo - Los ejes de mi carreta",nome:"Carlos do Carmo - Los ejes de mi carreta"})
		

	c[++i]=[];
	c[i].push({pasta:".",nome:"Cortinas",tipo:"cortinas"});
		c[i].push({file:"Frank Sinatra/Frank Sinatra - Cheek To Cheek",nome:"Frank Sinatra - Cheek To Cheek"})
		c[i].push({file:"cortinas/Chuck Berry - Carol",nome:"Chuck Berry - Carol"})
		c[i].push({file:"cortinas/Connie Francis - Stupid Cupid",nome:"Connie Francis - Stupid Cupid"})
		c[i].push({file:"cortinas/Elvis Presley - All Shook Up",nome:"Elvis Presley - All Shook Up"})
		c[i].push({file:"Louis Armstrong/Louis Armstrong - Only You",nome:"Louis Armstrong - Only You"})
		c[i].push({file:"Louis Armstrong/Ella Fitzgerald & Louis Armstrong - Cheek To Cheek",nome:"Ella Fitzgerald & Louis Armstrong - Cheek To Cheek"})

	
	c[++i]=[];
	c[i].push({pasta:".",nome:"Fecho",tipo:"Fecho"});
		c[i].push({file:"Fado/Carlos do Carmo - A saudade aconteceu",nome:"Carlos do Carmo - A saudade aconteceu"})
		c[i].push({file:"Fado/katia guerreiro - amor de mel, amor de fel",nome:"katia guerreiro - amor de mel, amor de fel"})
		c[i].push({file:"Louis Armstrong/Louis Armstrong - What a Wonderful World",nome:"Louis Armstrong - What a Wonderful World"})
		c[i].push({file:"Vera Lynn/Vera Lynn - We'll Meet Again",nome:"Vera Lynn - We'll Meet Again"})


	c[++i]=[];
	c[i].push({pasta:"Francisco Canaro",nome:"Canaro Tango I",tipo:"Tango"});
		c[i].push({file:"Francisco Canaro - Agustín Irusta - Ventanita Florida - 1932",nome:"Francisco Canaro - Agustín Irusta - Ventanita Florida"})		
		c[i].push({file:"Francisco Canaro - Charlo - la brisa - 1929",nome:"Francisco Canaro - la brisa"})	
		c[i].push({file:"Francisco Canaro - Ernesto Famá - Canto -1934",nome:"Francisco Canaro - Canto"})
		c[i].push({file:"Francisco Canaro - Langosta",nome:"Francisco Canaro - Langosta"})
		c[i].push({file:"FRANCISCO CANARO - LA CUMPARSITA",nome:"FRANCISCO CANARO - LA CUMPARSITA"})


	c[++i]=[];
	c[i].push({pasta:"Francisco Canaro/vals",nome:"Canaro Vals I",tipo:"vals"});
		c[i].push({file:"Francisco Canaro - Eduardo Adrián - Claro De Luna - 1942",nome:"Francisco Canaro - Claro De Luna"})		
		c[i].push({file:"Francisco Canaro - Charlo - Violetas - 1931",nome:"Francisco Canaro - Violetas"})			
		c[i].push({file:"Francisco Canaro - Francisco Amor - Farolito - 1938",nome:"Francisco Canaro - Farolito"})			
		c[i].push({file:"Francisco Canaro - Carlos Roldán - Dos Corazones - 1944",nome:"Francisco Canaro - Dos Corazones"})		
		c[i].push({file:"Francisco Canaro - Enrique Lucero - Dos Almas - 1946",nome:"Francisco Canaro - Dos Almas"})		
	
	c[++i]=[];
	c[i].push({pasta:"Edgardo Donato",nome:"Donato Tango I",tipo:"Tango"});
		c[i].push({file:"Edgardo Donato T (Horacio Lagos y Lita Morales) 1939 - Chapaleando Barro",nome:"Edgardo Donato - Chapaleando Barro"})		
		c[i].push({file:"Edgardo Donato - Santa milonguita",nome:"Edgardo Donato - Santa milonguita"})			
		c[i].push({file:"Edgardo Donato - Sinsabor",nome:"Edgardo Donato - Sinsabor"})				
		c[i].push({file:"Edgardo Donato T (Horacio Lagos) 1938 - Alas Rotas",nome:"Edgardo Donato - Alas Rotas"})		
		

	c[++i]=[];
	c[i].push({pasta:"Edgardo Donato/milonga",nome:"Donato milonga I",tipo:"milonga"});
		c[i].push({file:"Edgardo Donato - Corrales Viejos",nome:"Edgardo Donato - Corrales Viejos"})
		c[i].push({file:"Edgardo Donato - El lengue",nome:"Edgardo Donato - El lengue"})		
		c[i].push({file:"Edgardo Donato - Ella Es Asi",nome:"Edgardo Donato - Ella Es Asi"})		
		c[i].push({file:"Edgardo Donato - La Milonga que Faltaba",nome:"Edgardo Donato - La Milonga que Faltaba"})		
	


	c[++i]=[];
	c[i].push({pasta:"Lucio Demare",nome:"Demare tango I",tipo:"Tango"});
		c[i].push({file:"Lucio Demare y Juan Carlos Miranda - al compas de un tango",nome:"Lucio Demare - al compas de un tango"})
		c[i].push({file:"Lucio Demare - Raúl Berón - Canta pajarito - 1943",nome:"Lucio Demare - Canta pajarito"})
		c[i].push({file:"Lucio Demare y Juan Carlos Miranda - Malena",nome:"Lucio Demare - Malena"})
		c[i].push({file:"Lucio Demare Juan Carlos Miranda - mañana zarpa un barco",nome:"Lucio Demare - mañana zarpa un barco"})



	c[++i]=[];
	c[i].push({pasta:".",nome:"La Cumparsita",tipo:"Tango"});
		c[i].push({file:"Carlos Gardel/Carlos Gardel - 1927 - lacumparsita",nome:"Carlos Gardel"})
		c[i].push({file:"FRANCISCO CANARO/FRANCISCO CANARO - LA CUMPARSITA",nome:"Francisco Canaro"})
		c[i].push({file:"LA CUMPARSITA/armenon ville - La cumparsita",nome:"Armenonville"})
		c[i].push({file:"LA CUMPARSITA/OT Tokio - La cumparsita",nome:"OT Tokio"})
		c[i].push({file:"LA CUMPARSITA/Sexteto Mayor - La cumparsita",nome:"Sexteto Mayor"})
		c[i].push({file:"LA CUMPARSITA/los tubatango - La cumparsita",nome:"los tubatango"})





		










</script>

</head>

<body onLoad="go1();" style='font-size:12px;font-family: verdana'>

  <audio id="audio2" preload="auto" tabindex="0" controls="volume;face;equalizer;" type="audio/mpeg" style="width:100%;">
        <source type="audio/mp3" src="">
        Sorry, your browser does not support HTML5 audio.
    </audio>
    <table style="width:100%;border-radius: 10px;border:solid 1px green;text-align: center;" align=center><tr><td>
    <input type=text id='sn' style="width:99%;">
    <tr><td style='left;'>
    <!-- Konsola -->

	<input type=button id='autoplay' onclick="autoplay()" value='autoplay-off'>

	<input type=button onclick="wplay()" value='play'>

	<input type=button onclick="wstop()" value='pause'>
	<input type=button onclick="wvol('minus')" value='<-'>
	<input type=button id='cvol' value='.5'>
	<input type=button onclick="wvol('plus')" value='+>'>

	<input type=button onclick="wseek('minus')" value='<-10sec'>
	<input type=button onclick="wseek('plus')" value='+10sec>'>



	<input type=button onclick="wcolapsa()" value='<Colapsa'>

	<input type=button onclick="wfaixa('minus')" value='<faixa<'>
	<input type=button onclick="wfaixa('plus')" value='>faixa>'>

	<input type=button id='wl' onclick="wloop('plus')" value='noloop'>
	<input type=button id='wa' onclick="waleat()" value='noaleat'>


<!--var vid = document.getElementById("myVideo");
vid.defaultPlaybackRate = 0.5;
-->

	<input type=text id='tanda' size=1>
	<input type=text id='faixa' size=1>
	</table>



<table border="0" style="width:100%;" cellpadding="3">
	<tr>
		<td style="width:33%;">
			<div style='height: 150px;text-overflow:scroll;overflow-y:scroll;background-color: seashell'>
			<h3 style='margin:0px;'>Abertura</h3><ol style='margin: 0px;' id="abertura"></ol></div>
		<td style="width:33%;">
			<div style='height: 150px;text-overflow:scroll;overflow-y:scroll;background-color: powderblue'>
			<h3 style='margin:0px;'>Cortinas</h3><ol style='margin: 0px;' id="cortinas"></ol></div>
		<td style="width:33%;">
			<div style='height: 150px;text-overflow:scroll;overflow-y:scroll;background-color: seashell'>
			<h3 style='margin:0px;'>Fecho</h3><ol style='margin: 0px;' id="fecho"></ol></div>
</table>

<table border="0" style="width:100%;" cellpadding="3">
	<td style='vertical-align: top;width:12%;font-family: trebuchet;' id="played">
	<td style='vertical-align: top;width:22%;' id="tandas0">
	<td style='vertical-align: top;width:22%;' id="tandas1">	
    <td style='vertical-align: top;width:22%;' id="tandas2">	    
    <td style='vertical-align: top;width:22%;' id="tandas3">	
</table>
	
</body>

<script type="text/javascript">

function go1(){
//Abertura
	lh=document.getElementById('abertura')
	for(j=1;j<c[0].length;j++)
	{		item = document.createElement("li");
			item.innerHTML="<span id='b.0."+j+"'  style='' onclick=\"play5(this,0,"+j+");\">"+c[0][j].nome+"</span>"
			lh.appendChild(item);
	}
//Cortinas
	lh=document.getElementById('cortinas')
	for(j=1;j<c[1].length;j++)
	{		item = document.createElement("li");
			item.innerHTML="<span  id='b.1."+j+"'  style='' onclick=\"play5(this,1,"+j+");\">"+c[1][j].nome+"</span>"
			lh.appendChild(item);
	}
//Fecho
	lh=document.getElementById('fecho')
	for(j=1;j<c[2].length;j++)
	{		item = document.createElement("li");
			item.innerHTML="<span  id='b.2."+j+"' style='' onclick=\"play5(this,2,"+j+");\">"+c[2][j].nome+"</span>"
			lh.appendChild(item);
	}

//Tandas
	for(i=3;i<c.length;i++)
	{	console.log('c[i][0].tipo:'+c[i][0].tipo)
		ct=document.getElementById('tandas'+(i-3)%(3+1))
		citem = document.createElement("div");
		citem.style="border-radius: 10px;background:pink;margin-bottom:10px;"
		citem.id='ctanda'+i;

		switch(c[i][0].tipo)
		{	case "vals": case'vals':
				citem.style.background="pink";	
				citem.style.background="lightpink";	
	
				break;

			case "milonga": case'milonga':
				citem.style.background="steelblue";
				citem.style.background="deepskyblue";

					break;
			default:
				citem.style.background=kor[((kor.length-1)*Math.random()).toFixed(0)];
				citem.style.background="linen";
				citem.style.background="moccasin";
				citem.style.background="oldlace";
		}
		
		//citem.title='tanda'+i
		ct.appendChild(citem)				//whitesmokebackground:whitesmoke;
		citem.innerHTML="<h3 style='border-radius: 10px;text-size:11px;margin-bottom:0px;border-bottom:red black 1px;'><input type=button value=X onclick=colapsa("+i+")> "+c[i][0].nome+"</h3>";

		//citem.innerHTML="<h3 style='border-radius:8px;background:gray;color:blanchedalmond;margin:0px;'>&nbsp;"+c[i][0].nome+"</h3>"

		
		//<input type=button value=X style='margin:0px;' onclick=colapsa("+i+")> "+
	//	citem.innerHTML+=c[i][0].nome;		
	//	citem.innerHTML+="</h3>"	
		
		item = document.createElement("ol");
		item.style='margin:0px;display:;margin-bottom:0px;border-top:dashed silver 1px;'
		item.id='tanda'+i
		//item.title='tanda'+i
		citem.appendChild(item)

		lh=document.getElementById('tanda'+i)

		for(j=1;j<c[i].length;j++)
		{	console.log(c[0]+":"+c[0].length)

			item = document.createElement("li");
			item.innerHTML="<span style='margin:0px;' onclick=\"play5(this,"+i+","+j+");\">"+c[i][j].nome+"</span>"
			item.id="b."+i+"."+j
			item.title="b."+i+"."+j
			lh.appendChild(item);
		}
	}
}


function colapsa(x){
	console.log('colapsa:'+x)
	p=document.getElementById("tanda"+x).style.display;
	if(p=='none')
	{document.getElementById("tanda"+x).style.display=""
	}
	else
	{document.getElementById("tanda"+x).style.display='none'
	}
}

function wplay(){
	p=document.getElementById("audio2");
	p.play();


}
function wstop(){
	p=document.getElementById("audio2");
	p.pause();
}

function wvol(x){
	p=document.getElementById("audio2");
	vol=p.volume;//.toFixed(1);

	document.getElementById('cvol').value=vol.toFixed(1)
	if(x=='minus'){
		vol -= .1;
	}
	else{
		vol += .10;
	}
	if(vol<0){
		vol=0.	
	}
	else if(vol>1){
		vol=1.
	}
	p.volume=vol.toFixed(1);	
}

function wseek(x){
	p=document.getElementById("audio2");
	spos=p.currentTime;//.toFixed(1);

	//document.getElementById('cvol').value=vol.toFixed(1)
	if(x=='minus'){
		p.currentTime-=10
	}
	else{
		p.currentTime+=10
	}
	if(vol<0){
		vol=0.	
	}
	else if(vol>1){
		vol=1.
	}
	//p.volume=vol.toFixed(1);	
}



function wfaixa(x){
	p=document.getElementById("audio2");
	p.pause()
	faixa=document.getElementById("faixa").value
    tanda=document.getElementById("tanda").value
    console.log('t:'+tanda+',b:'+faixa)

    if(document.getElementById("wl").value != 'loop')
    {
		

    if(x=="plus")
    {  	faixa++
	    	if(faixa>=	c[tanda].length)
    	{	faixa=1
    		tanda++;
    		if(tanda>=c.length){
    			tanda=0
    			faixa=1
    		}
    	}
    }
    else
    {  	faixa--
  	    console.log('t:'+tanda+',b:'+faixa)
    	if(faixa<1)
    	{	tanda--;
   		    console.log('t:'+tanda+',b:'+faixa)
    		if(tanda<0){
    			tanda=c.length-1
    			
    		}
    		faixa=c[tanda].length-1
   		    console.log('t:'+tanda+',b:'+faixa)
    	}	
    }

   	if(document.getElementById("wa").value=="aleat")	
   	{	tanda=(Math.random()*c.length).toFixed(0)
   		faixa=(Math.random()*c[tanda].length).toFixed(0)
   		if(faixa==0)faixa=1
   	}
}

   	document.getElementById("tanda").value=tanda
   	document.getElementById("faixa").value=faixa
   	console.log('+tanda:'+tanda+'faixa:'+faixa)
   	b=document.getElementById('b.'+tanda+'.'+faixa)
   	play5(b,tanda,faixa)

}


function wloop(x){
	p=document.getElementById("wl").value;
	if(p=="loop")
	{	document.getElementById("audio2").loop=false
		document.getElementById("wl").value="noloop"
	}
	else
	{	document.getElementById("audio2").loop=true
		document.getElementById("wl").value="loop"

	}
}

function waleat(){
	p=document.getElementById("wa").value;
	if(p=="aleat")
	{	document.getElementById("wa").value="noaleat"
	}
	else
	{	document.getElementById("wa").value="aleat"

	}
}

function autoplay(x){
	p=document.getElementById("autoplay").value;
	if(p=="autoplay-off")
	{	document.getElementById("autoplay").value="autoplay-on"
		
	}
	else
	{	document.getElementById("autoplay").value="autoplay-off"
	}
}

function wcolapsa(x){
	p=document.getElementById("tanda").value*1;
	for(i=2+1;i<p;i++)
	{	document.getElementById("tanda"+i).style.display='none'
	}
}

var oname=""

function play5(x,i,j){
	var err=""
	console.log('P5:'+x);
	p=document.getElementById("audio2")

	try {	//  tryCode - Block of code to try
			document.getElementById("audio2").src=c[i][0].pasta+"/"+c[i][j].file+".mp3";
		}
	catch(err) {	//catchCode - Block of code to handle errors
			console.log("P5err1:"+err)
		}
	finally {	//finallyCode - Block of code to be executed regardless of the try / catch result
  			console.log("P5err2:"+err)
		}

	p.load();	
	document.getElementById('sn').value=c[i][0].pasta+"/"+c[i][j].file+".mp3"

		p.play();

l=document.getElementById("played")

if(oname!=c[i][0].nome)	
{	
	switch(c[i][0].tipo)
	{	case "vals":
			l.innerHTML+="<font color='pink'>";	break;
		case "milonga":
			l.innerHTML+="<font color='bluesteel'>";	break;
		default:
			l.innerHTML+="<font color='black'>";	break;
	}

	l.innerHTML+="<br><h3 style='margin:0px;'>"+c[i][0].nome+"</h3>"
	oname=c[i][0].nome
}
else
{	l.innerHTML+="<br>"
	//document.getElementById('played').innerHTML+="<br>"+c[i][0].pasta+"/"+c[i][j].file
}
l.innerHTML+="xcopy "+c[i][0].pasta+"/"+c[i][j].file+".mp3 z:\VillaNovembro2019 /S /E /Y"

	//var vid = document.getElementById("myVideo");
	//vid.controls = true;

	p.controls=true
	//alert(p.controls)

	y=document.getElementById("b."+i+"."+j)

	y.style.color="olive"
	y.style.color="goldenrod"
//	y.style.color="peru"
	y.style.color="orange"

	//y.style.color="firebrick"


	y.style.fontWeight="bold;"
	y.style.fontSize="13px"
	document.getElementById("tanda").value=i
	document.getElementById("faixa").value=j

	var  a=0,b=0;
	for(a=0;a<c.length;a++)
	{	for(b=1;b<c[a].length;b++)
		{	y=document.getElementById("b."+a+"."+b);
			if((a==i)&&(b==j)){}
			else{y.style.color="black";
			y.style.fontWeight=""
			y.style.fontSize="12px"
			}
		}
	}
}

 // audio[0].addEventListener('ended',function(e){
	t=	document.getElementById("audio2")

	//getElementById("audio2").addEventListener('ended',function(e){
	t.addEventListener('ended',function(e){	
    	faixa=document.getElementById("faixa").value
    	tanda=document.getElementById("tanda").value
    	console.log('tanda:'+tanda+'faixa:'+faixa)
    	faixa++
    
    	if(faixa>=c[tanda].length)
    	{	faixa=1
    		tanda++;
    		if(tanda>=c.length){
    			tanda=0
    			faixa=1
    		}
    	}
    	console.log('+tanda:'+tanda+'faixa:'+faixa)
    	b=document.getElementById('b.'+tanda+'.'+faixa)

    	
	   if(document.getElementById("autoplay").value=="autoplay-on")
    	{ play5(b,tanda,faixa)
    	}
    	

    	document.getElementById("faixa").value=faixa
    	document.getElementById("tanda").value=tanda
    	
    });



</script>

</html>